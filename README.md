# OpenCVAndQtExample

<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=OPeqXG-QxW3ZD8BtmPikfA');ol{margin:0;padding:0}table td,table th{padding:0}.c3{background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Courier New";font-style:normal}.c0{background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Roboto";font-style:normal}.c7{background-color:#ffffff;color:#ff0000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Roboto";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{background-color:#ffffff;font-size:10pt;font-family:"Roboto";color:#ff0000;font-weight:400}.c6{background-color:#ffffff;font-size:10pt;font-family:"Courier New";font-weight:400}.c4{background-color:#ffffff;max-width:545.3pt;padding:35.4pt 28.8pt 72pt 21.3pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c4"><p class="c2"><span class="c8">Creating Bounding Boxes and circles for contours ve Creating Bounding Boxes and ellipses for contours, ve image moments</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Haz&#305;rlayan : Erkan Karacar - H5170051</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Program&#305;n amac&#305; OpenCV k&uuml;t&uuml;phanesini kullanarak g&ouml;r&uuml;nt&uuml;deki objeleri tespit etmek ve onlar&#305; g&ouml;r&uuml;nt&uuml;den soyutlayarak etraf&#305;n&#305; , kendi s&#305;n&#305;rlar&#305;n&#305; ve a&#287;&#305;rl&#305;k merkezlerini belirlemesi ve &ccedil;izmesini sa&#287;lamakt&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c7">Program&#305;n Aray&uuml;z&uuml; : &nbsp;</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Program da Aray&uuml;z objesi olarak 1 Adet File Ad&#305;nda MenuBar, &nbsp;Bu MenuBar&rsquo;&#305;n 2 Adet AltBar&#305; Bulunmakta ilki Open Buttonu G&ouml;r&uuml;nt&uuml; Eklemenizi Sa&#287;layan Bir Button,</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 644.00px; height: 161.00px;"><img alt="" src="images/image14.png" style="width: 644.00px; height: 161.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Buttonun kodu bu &#351;ekildedir :</span></p><p class="c2"><span class="c0">&nbsp;</span></p><p class="c2"><span class="c3">void MainWindow::on_actionOpen_triggered(void){<br> &nbsp; &nbsp;QString fileName = QFileDialog::getOpenFileName(this,<br> &nbsp; &nbsp; &nbsp; &nbsp;tr(&quot;Open Image&quot;), &quot;/&quot;, tr(&quot;Image Files (*.png *.jpg *.bmp *.jpeg)&quot;));<br><br> &nbsp; &nbsp;im1.load( fileName );<br> &nbsp; &nbsp;src = conv.QImage2Mat( im1 );<br><br> &nbsp; &nbsp;cvtColor( src, src_gray, COLOR_BGR2GRAY );<br> &nbsp; &nbsp;blur( src_gray, src_gray, Size(3,3) );<br><br> &nbsp; &nbsp;im1 = conv.Mat2QImage(src_gray);</span></p><p class="c2"><span class="c3"><br> &nbsp; &nbsp;pix1 = QPixmap::fromImage( im1 );<br> &nbsp; &nbsp;sahne1.addPixmap( pix1 );<br><br> &nbsp; &nbsp;ui-&gt;DefaultImage-&gt;setScene(&amp;sahne1);<br>}</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">&#304;kincisi Clear Buttonu , Bu button da y&uuml;klenmi&#351; g&ouml;r&uuml;nt&uuml;leri kald&#305;rmak eklenmi&#351;tir.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 645.00px; height: 162.00px;"><img alt="" src="images/image21.png" style="width: 645.00px; height: 162.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Buttonun kodu bu &#351;ekildedir : </span></p><p class="c2"><span class="c3">void MainWindow::on_actionClear_triggered(void){<br> &nbsp; &nbsp;sahne1.clear();<br> &nbsp; &nbsp;sahne2.clear();<br> &nbsp; &nbsp;ui-&gt;textEdit-&gt;clear();<br>}</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">1 adet Horizontal Slider Ve 2 adet TextLabel bulumakta,</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 649.15px; height: 53.00px;"><img alt="" src="images/image16.png" style="width: 649.15px; height: 53.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Horizontal Slider ve TextLabel &#305;n kodu bu &#351;ekildedir : </span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c3">void MainWindow::on_slider_actionTriggered(int action)<br>{<br> &nbsp; &nbsp;deger = ui-&gt;slider-&gt;value();<br> &nbsp; &nbsp;ui-&gt;GDtext-&gt;setText(QString::number(deger));<br>}</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">3 adet buttonumuz bulunmakta bunlar, Boxes , Ellipse , Image Moments,</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 643.00px; height: 105.00px;"><img alt="" src="images/image11.png" style="width: 643.00px; height: 105.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Bu buttonlar&#305;n ve Horizontal Slider&#305;n Amac&#305; Program Kullan&#305;m&#305; B&ouml;l&uuml;m&uuml;nde A&ccedil;&#305;klanm&#305;&#351;t&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Ayriyetten program&#305;n aray&uuml;z&uuml;nde 2 adet GraphicsView ve 1 adet EditText Label bulunmaktad&#305;r.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 655.15px; height: 346.74px;"><img alt="" src="images/image29.png" style="width: 655.15px; height: 346.74px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c7">Program&#305;n Kullan&#305;m&#305; :</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Programa g&ouml;r&uuml;nt&uuml; y&uuml;klendikten sonra 3 modda i&#351;lenmi&#351; g&ouml;r&uuml;nt&uuml;y&uuml; inceleyebilirsiniz. Bunlar,</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Boxes Modu:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modun amac&#305; g&ouml;r&uuml;nt&uuml;deki objeleri ve objelere yak&#305;n olabilecek sil&uuml;etleri </span></p><p class="c2"><span class="c0">tespit ederek onlar&#305;n kenar hatlar&#305;n&#305; belirginle&#351;tirir, kendi boyutuna oranla d&#305;&#351;&#305;na k&uuml;p ve yuvarlak bir halka &ccedil;izer.&Ccedil;izdi&#287;i halkan&#305;n boyutu objenin halkan&#305;n tam merkezine gelmesiyle olu&#351;ur.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 672.15px; height: 354.39px;"><img alt="" src="images/image8.png" style="width: 672.15px; height: 354.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 674.15px; height: 354.40px;"><img alt="" src="images/image13.png" style="width: 674.15px; height: 354.40px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 677.15px; height: 355.55px;"><img alt="" src="images/image31.png" style="width: 677.15px; height: 355.55px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modda ve di&#287;er modlarda oldu&#287;u gibi Horizontal Slider &#305;n amac&#305; algoritman&#305;n duyarl&#305;l&#305;&#287;&#305;n&#305; ayarlamakt&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri d&uuml;&#351;&uuml;k ise algoritma daha duyarl&#305;,</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 687.15px; height: 359.85px;"><img alt="" src="images/image7.png" style="width: 687.15px; height: 359.85px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 682.15px; height: 358.18px;"><img alt="" src="images/image17.png" style="width: 682.15px; height: 358.18px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 361.85px;"><img alt="" src="images/image24.png" style="width: 689.15px; height: 361.85px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri y&uuml;ksek ise algoritma daha duyars&#305;zd&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 691.15px; height: 362.90px;"><img alt="" src="images/image22.png" style="width: 691.15px; height: 362.90px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 693.15px; height: 364.18px;"><img alt="" src="images/image2.png" style="width: 693.15px; height: 364.18px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 363.77px;"><img alt="" src="images/image15.png" style="width: 689.15px; height: 363.77px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Boxes Modu Kullan&#305;ld&#305;&#287;&#305;nda &nbsp;Bu Kod &Ccedil;al&#305;&#351;maktad&#305;r :</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c3">void MainWindow::on_pushButton_clicked()<br>{</span></p><p class="c2"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp;//aray&uuml;zdeki Sliderdan De&#287;er al&#305;yoruz<br> &nbsp; &nbsp; &nbsp; TreshHold = ui-&gt;slider-&gt;value();<br> &nbsp; &nbsp; &nbsp; Canny( src_gray, canny_output, TreshHold, TreshHold*2 );<br> &nbsp; &nbsp; &nbsp; vector&lt;vector&lt;Point&gt; &gt; contours;<br> &nbsp; &nbsp; &nbsp; findContours( canny_output, contours, RETR_TREE, CHAIN_APPROX_SIMPLE );<br> &nbsp; &nbsp; &nbsp; vector&lt;vector&lt;Point&gt; &gt; contours_poly( contours.size() );<br> &nbsp; &nbsp; &nbsp; vector&lt;Rect&gt; boundRect( contours.size() );<br> &nbsp; &nbsp; &nbsp; vector&lt;Point2f&gt;centers( contours.size() );<br> &nbsp; &nbsp; &nbsp; vector&lt;float&gt;radius( contours.size() );<br> &nbsp; &nbsp; &nbsp; for( size_t i = 0; i &lt; contours.size(); i++ )<br> &nbsp; &nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; approxPolyDP( contours[i], contours_poly[i], 3, true );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; boundRect[i] = boundingRect( contours_poly[i] );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; minEnclosingCircle( contours_poly[i], centers[i], radius[i] );<br> &nbsp; &nbsp; &nbsp; }<br> &nbsp; &nbsp; &nbsp; drawing = Mat::zeros( canny_output.size(), CV_8UC3 );<br> &nbsp; &nbsp; &nbsp; for( size_t i = 0; i&lt; contours.size(); i++ )<br> &nbsp; &nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Scalar color = Scalar( rng.uniform(0,256), rng.uniform(0,256), rng.uniform(0,256) );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawContours( drawing, contours_poly, (int)i, color );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rectangle( drawing, boundRect[i].tl(), boundRect[i].br(), color, 2 );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; circle( drawing, centers[i], (int)radius[i], color, 2 );<br> &nbsp; &nbsp; &nbsp; }<br><br> &nbsp; im2 = conv.Mat2QImage(drawing);<br><br><br> &nbsp; &nbsp;pix2 = QPixmap::fromImage(im2);<br> &nbsp; &nbsp;sahne2.addPixmap( pix2 );<br><br> &nbsp; &nbsp;ui-&gt;graphicsView_2-&gt;setScene( &amp;sahne2 );<br>}<br></span></p><p class="c2"><span class="c0">Ellipse Modu : </span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modun amac&#305; g&ouml;r&uuml;nt&uuml;deki objeleri ve objelere yak&#305;n olabilecek sil&uuml;etleri </span></p><p class="c2"><span class="c0">tespit ederek onlar&#305;n kenar hatlar&#305;n&#305; belirginle&#351;tirir, kendi boyutuna oranla d&#305;&#351;&#305;na bir elips &nbsp;&ccedil;izer.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 361.85px;"><img alt="" src="images/image10.png" style="width: 689.15px; height: 361.85px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 692.15px; height: 363.43px;"><img alt="" src="images/image18.png" style="width: 692.15px; height: 363.43px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 688.15px; height: 361.33px;"><img alt="" src="images/image26.png" style="width: 688.15px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modda ve di&#287;er modlarda oldu&#287;u gibi Horizontal Slider &#305;n amac&#305; algoritman&#305;n duyarl&#305;l&#305;&#287;&#305;n&#305; ayarlamakt&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri d&uuml;&#351;&uuml;k ise algoritma daha duyarl&#305;,</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 693.15px; height: 362.99px;"><img alt="" src="images/image4.png" style="width: 693.15px; height: 362.99px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 688.15px; height: 361.33px;"><img alt="" src="images/image25.png" style="width: 688.15px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 686.15px; height: 360.28px;"><img alt="" src="images/image6.png" style="width: 686.15px; height: 360.28px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri y&uuml;ksek ise algoritma daha duyars&#305;zd&#305;r.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 361.85px;"><img alt="" src="images/image1.png" style="width: 689.15px; height: 361.85px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 361.85px;"><img alt="" src="images/image9.png" style="width: 689.15px; height: 361.85px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 689.15px; height: 363.77px;"><img alt="" src="images/image15.png" style="width: 689.15px; height: 363.77px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Ellipse Modu Kullan&#305;ld&#305;&#287;&#305;nda &nbsp;Bu Kod &Ccedil;al&#305;&#351;maktad&#305;r :</span></p><p class="c1"><span class="c3"></span></p><p class="c2"><span class="c3">void MainWindow::on_pushButton_2_clicked()<br>{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; //aray&uuml;zdeki Sliderdan De&#287;er al&#305;yoruz<br> &nbsp; &nbsp; &nbsp; &nbsp;TreshHold = ui-&gt;slider-&gt;value();<br> &nbsp; &nbsp; &nbsp; &nbsp;rng(12345);<br> &nbsp; &nbsp; &nbsp; &nbsp;Canny( src_gray, canny_output, TreshHold, TreshHold*2 );<br> &nbsp; &nbsp; &nbsp; &nbsp;vector&lt;vector&lt;Point&gt; &gt; contours;<br> &nbsp; &nbsp; &nbsp; &nbsp;findContours( canny_output, contours, RETR_TREE, CHAIN_APPROX_SIMPLE, Point(0, 0) );<br> &nbsp; &nbsp; &nbsp; &nbsp;vector&lt;RotatedRect&gt; minRect( contours.size() );<br> &nbsp; &nbsp; &nbsp; &nbsp;vector&lt;RotatedRect&gt; minEllipse( contours.size() );<br> &nbsp; &nbsp; &nbsp; &nbsp;for( size_t i = 0; i &lt; contours.size(); i++ )<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;minRect[i] = minAreaRect( contours[i] );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if( contours[i].size() &gt; 5 )<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;minEllipse[i] = fitEllipse( contours[i] );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;drawing = Mat::zeros( canny_output.size(), CV_8UC3 );<br> &nbsp; &nbsp; &nbsp; &nbsp;for( size_t i = 0; i&lt; contours.size(); i++ )<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Scalar color = Scalar( rng.uniform(0,256), rng.uniform(0,256), rng.uniform(0,256) );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// contour<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;drawContours( drawing, contours, (int)i, color );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// ellipse<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ellipse( drawing, minEllipse[i], color, 2 );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// rotated rectangle<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Point2f rect_points[4];<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;minRect[i].points( rect_points );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for ( int j = 0; j &lt; 4; j++ )<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;line( drawing, rect_points[j], rect_points[(j+1)%4], color );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;im2 = conv.Mat2QImage(drawing);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; pix2 = QPixmap::fromImage(im2);<br> &nbsp; &nbsp; &nbsp; &nbsp; sahne2.addPixmap( pix2 );<br><br> &nbsp; &nbsp; &nbsp; &nbsp; ui-&gt;graphicsView_2-&gt;setScene( &amp;sahne2 );<br>}</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Image Moments Modu:</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modun amac&#305; g&ouml;r&uuml;nt&uuml;deki objeleri ve objelere yak&#305;n olabilecek sil&uuml;etleri </span></p><p class="c2"><span class="c0">tespit ederek onlar&#305;n a&#287;&#305;rl&#305;k merkezlerini belirleyerek objenin e&#287;ri uzunlu&#287;unu hesaplar. Hesaplama i&#351;lemi bittikten sonra ekran &ccedil;&#305;kt&#305;s&#305; olarak g&ouml;r&uuml;nt&uuml;deki objeleri ve o objelerin merkezini g&ouml;sterir, EditTextLabel da ise t&uuml;m g&ouml;r&uuml;nt&uuml;deki objelerin ve objelere yak&#305;n sil&uuml;etlerin say&#305;s&#305;n&#305;, boyutunu ve uzunlu&#287;unu hesaplar.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 687.15px; height: 360.80px;"><img alt="" src="images/image30.png" style="width: 687.15px; height: 360.80px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 693.15px; height: 363.95px;"><img alt="" src="images/image12.png" style="width: 693.15px; height: 363.95px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 688.15px; height: 361.33px;"><img alt="" src="images/image20.png" style="width: 688.15px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Bu modda ve di&#287;er modlarda oldu&#287;u gibi Horizontal Slider &#305;n amac&#305; algoritman&#305;n duyarl&#305;l&#305;&#287;&#305;n&#305; ayarlamakt&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri d&uuml;&#351;&uuml;k ise algoritma daha duyarl&#305;,</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 684.15px; height: 361.13px;"><img alt="" src="images/image5.png" style="width: 684.15px; height: 361.13px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 688.15px; height: 361.33px;"><img alt="" src="images/image28.png" style="width: 688.15px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 692.15px; height: 363.43px;"><img alt="" src="images/image27.png" style="width: 692.15px; height: 363.43px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">E&#287;er duyarl&#305;l&#305;k de&#287;eri y&uuml;ksek ise algoritma daha duyars&#305;zd&#305;r.</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 690.15px; height: 362.38px;"><img alt="" src="images/image3.png" style="width: 690.15px; height: 362.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 695.15px; height: 365.00px;"><img alt="" src="images/image23.png" style="width: 695.15px; height: 365.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 702.51px; height: 369.26px;"><img alt="" src="images/image19.png" style="width: 702.51px; height: 369.26px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c0">Image Moments Modu Kullan&#305;ld&#305;&#287;&#305;nda &nbsp;Bu Kod &Ccedil;al&#305;&#351;maktad&#305;r :</span></p><p class="c1"><span class="c0"></span></p><p class="c2"><span class="c3">void MainWindow::on_image_moments_clicked()<br>{<br> &nbsp; &nbsp;rng(12345);</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; //aray&uuml;zdeki Sliderdan De&#287;er al&#305;yoruz<br> &nbsp; &nbsp;TreshHold = ui-&gt;slider-&gt;value();</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; Canny( src_gray, canny_output,TreshHold , TreshHold*2, 3 );<br> &nbsp; &nbsp;vector&lt;vector&lt;Point&gt; &gt; contours;<br> &nbsp; &nbsp;findContours( canny_output, contours, RETR_TREE, CHAIN_APPROX_SIMPLE );<br> &nbsp; &nbsp;vector&lt;Moments&gt; mu(contours.size() );<br> &nbsp; &nbsp;for( size_t i = 0; i &lt; contours.size(); i++ )<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;mu[i] = moments( contours[i] );<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;vector&lt;Point2f&gt; mc( contours.size() );<br> &nbsp; &nbsp;for( size_t i = 0; i &lt; contours.size(); i++ )<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;//add 1e-5 to avoid division by zero<br> &nbsp; &nbsp; &nbsp; &nbsp;mc[i] = Point2f( static_cast&lt;float&gt;(mu[i].m10 / (mu[i].m00 + 1e-5)),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;static_cast&lt;float&gt;(mu[i].m01 / (mu[i].m00 + 1e-5)) );<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//cout &lt;&lt; &quot;mc[&quot; &lt;&lt; i &lt;&lt; &quot;]=&quot; &lt;&lt; mc[i] &lt;&lt; endl;<br> &nbsp; &nbsp; }<br> &nbsp; &nbsp; &nbsp; &nbsp;drawing = Mat::zeros( canny_output.size(), CV_8UC3 );<br> &nbsp; &nbsp; for( size_t i = 0; i&lt; contours.size(); i++ )<br> &nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp; Scalar color = Scalar( rng.uniform(0, 256),rng.uniform(0, 256),rng.uniform(0, 256));<br> &nbsp; &nbsp; &nbsp;drawContours( drawing, contours, (int)i, color, 2 );<br> &nbsp; &nbsp; &nbsp;circle( drawing, mc[i], 4, color, -1 );<br> &nbsp; &nbsp; }<br> &nbsp; &nbsp; im2 = conv.Mat2QImage(drawing);<br> &nbsp; &nbsp; pix2 = QPixmap::fromImage(im2);<br> &nbsp; &nbsp; sahne2.addPixmap( pix2 );</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;ui-&gt;graphicsView_2-&gt;setScene( &amp;sahne2 );<br> &nbsp; &nbsp; cout &lt;&lt; &quot;\t Info: Area and Contour Length \n&quot;;<br> &nbsp; &nbsp; QString text;</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;for( size_t i = 0; i &lt; contours.size(); i++ )<br> &nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp; text = text + &quot; * Contour[&quot;+ QString::number(i) + &quot;] - Area (M_00) = &quot;+ QString::number(mu[i].m00) +<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot; - Area OpenCV:&quot; + &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; QString::number(contourArea(contours[i])) + &quot; - Length: &quot;+ QString::number(arcLength( contours[i], true ))+&quot;\n&quot;;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;ui-&gt;textEdit-&gt;setText(text);<br>}</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c5"></span></p></body></html>
